function ToggleNav() {
  var sidebar = document.getElementById("mySidebar");
  if (sidebar.style.width === "250px") {
    sidebar.style.width = "0";
  } else {
    sidebar.style.width = "250px";
  }
}

function toggleDropdown() {
  var dropdownMenu = document.getElementById("dropdown-menu");
  if (dropdownMenu.style.display === "block") {
    dropdownMenu.style.display = "none";
  } else {
    dropdownMenu.style.display = "block";
  }
}

$(document).ready(function() {
  setInterval(function() {
      $.ajax({
          url: '/update-system',
          type: 'GET',
          dataType: 'json',
          success: function(data) {
              $('#wifi-icon').removeClass().addClass(data.wifi_icon);
              $('#ssid').text(data.ssid);
              $('#temp').text(data.temp + '°C');
              $('#temp2').text(data.temp + '°C');
              $('#temp-icon').removeClass().addClass(data.temp_icon);
              $('#temp-icon2').removeClass().addClass(data.temp_icon);
              $('#cpu').text(data.usage + '%');
              $('#cpu2').text(data.usage + '%');
              $('#fan').removeClass().addClass(data.fan);
          }
      });
  }, 2000);
});

window.onload = function() {
  const githubRepoUrl = 'https://raw.githubusercontent.com/Toomas633/Pentest-Zero/main';
  const filePath = 'version';
  var version = 0.0
  fetch(filePath)
            .then(response => response.text())
            .then(text => {
                version = parseFloat(text);
                document.getElementsByClassName('version').innerHTML = `${version}`;
            })
            .catch(error => console.error(error));
  fetch(`${githubRepoUrl}/${filePath}`)
    .then(response => response.json())
    .then(data => {
        var fileContents = atob(data.content);
        var versionInFile = parseFloat(fileContents);
        if (versionInFile > version) {
          document.getElementsByClassName('version').innerHTML = `v${version}  Update available!`;
        } else {
          document.getElementsByClassName('version').innerHTML = `v${version}`;
        }
    })
    .catch(error => console.error(error));
};